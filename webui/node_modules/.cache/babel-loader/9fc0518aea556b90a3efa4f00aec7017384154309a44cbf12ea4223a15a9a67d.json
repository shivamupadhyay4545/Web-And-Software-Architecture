{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport axios from 'axios';\nimport moment from 'moment';\nexport default {\n  data() {\n    return {\n      numberOfPhotos: 0,\n      followersCount: 0,\n      followingsCount: 0,\n      photos: []\n    };\n  },\n  props: {\n    photo: Object\n  },\n  methods: {\n    async fetchUserProfile() {\n      try {\n        const username = this.$route.params.username;\n        const response = await axios.get(`http://localhost:8080/user/${username}/profile`);\n        const data = response.data;\n        this.numberOfPhotos = data['my profile']['PhotoNo'];\n        this.followersCount = data['my profile']['Followers'];\n        this.followingsCount = data['my profile']['Following'];\n        this.photos = data['my profile']['Photos'];\n      } catch (error) {\n        console.error('Error fetching user profile:', error);\n      }\n    },\n    getImageUrl(photobytes) {\n      if (photobytes) {\n        return `data:image/jpeg;base64,${photobytes}`;\n      }\n\n      // If photobytes is null or undefined, return a placeholder or empty string\n      return '';\n    },\n    formatTimestamp(timestamp) {\n      // Use moment to format the timestamp\n      return moment(timestamp).format('YYYY-MM-DD HH:mm:ss');\n    },\n    showComments(photo) {\n      // Use Vue Router to navigate to the comments route\n      this.$router.push({\n        name: 'CommentPhotoForm',\n        // Replace with the actual name of your Comments route\n        params: {\n          photoId: photo.photoId,\n          username: this.$route.params.username\n        }\n      });\n    }\n  },\n  created() {\n    this.fetchUserProfile();\n  }\n};","map":{"version":3,"names":["axios","moment","data","numberOfPhotos","followersCount","followingsCount","photos","props","photo","Object","methods","fetchUserProfile","username","$route","params","response","get","error","console","getImageUrl","photobytes","formatTimestamp","timestamp","format","showComments","$router","push","name","photoId","created"],"sources":["/Users/shivamkumar/Desktop/wasaphoto/webui/src/components/UserProfile.vue"],"sourcesContent":["<!-- components/Profile.vue -->\n<template>\n    <div>\n      <!-- Display user details: number of photos, followers, and followings -->\n      <div>\n        <p>Photos: {{ numberOfPhotos }}</p>\n        <p>Followers: {{ followersCount }}</p>\n        <p>Followings: {{ followingsCount }}</p>\n      </div>\n  \n      <!-- Display a list of user photos -->\n      <div v-if=\"photos.length > 0\">\n        <h3>Photos</h3>\n        <ul>\n          <div v-for=\"photo in photos\" :key=\"photo.photoId\">\n            <!-- Display each photo as a clickable button -->\n            <button @click=\"showComments(photo)\">\n              <img :src=\"getImageUrl(photo.Photobytes)\" alt=\"User Photo\" />\n              <p>Comments {{ photo.NoComments }}</p>\n              <p>Likes {{ photo.Likes }}</p>\n              <p>Uploaded At {{ formatTimestamp(photo.CreatedAt) }}</p>\n            </button>\n          </div>\n        </ul>\n      </div>\n      <div v-else>\n        <p>No photos available</p>\n      </div>\n    </div>\n  </template>\n  \n  <script>\n  import axios from 'axios';\n  import moment from 'moment';\n  \n  export default {\n    data() {\n      return {\n        numberOfPhotos: 0,\n        followersCount: 0,\n        followingsCount: 0,\n        photos: [],\n      };\n    },\n    props: {\n      photo: Object,\n    },\n    methods: {\n      async fetchUserProfile() {\n        try {\n          const username = this.$route.params.username;\n          const response = await axios.get(`http://localhost:8080/user/${username}/profile`);\n          const data = response.data;\n  \n          this.numberOfPhotos = data['my profile']['PhotoNo'];\n          this.followersCount = data['my profile']['Followers'];\n          this.followingsCount = data['my profile']['Following'];\n          this.photos = data['my profile']['Photos'];\n        } catch (error) {\n          console.error('Error fetching user profile:', error);\n        }\n      },\n      getImageUrl(photobytes) {\n        if (photobytes) {\n          return `data:image/jpeg;base64,${photobytes}`;\n        }\n  \n        // If photobytes is null or undefined, return a placeholder or empty string\n        return '';\n      },\n      formatTimestamp(timestamp) {\n        // Use moment to format the timestamp\n        return moment(timestamp).format('YYYY-MM-DD HH:mm:ss');\n      },\n      showComments(photo) {\n        // Use Vue Router to navigate to the comments route\n        this.$router.push({\n          name: 'CommentPhotoForm', // Replace with the actual name of your Comments route\n          params: { photoId: photo.photoId , username: this.$route.params.username},\n        });\n      },\n    },\n    created() {\n      this.fetchUserProfile();\n    },\n  };\n  </script>\n  \n  <style scoped>\n  /* Add your component styles here */\n  </style>\n  "],"mappings":";AAgCE,OAAOA,KAAI,MAAO,OAAO;AACzB,OAAOC,MAAK,MAAO,QAAQ;AAE3B,eAAe;EACbC,IAAIA,CAAA,EAAG;IACL,OAAO;MACLC,cAAc,EAAE,CAAC;MACjBC,cAAc,EAAE,CAAC;MACjBC,eAAe,EAAE,CAAC;MAClBC,MAAM,EAAE;IACV,CAAC;EACH,CAAC;EACDC,KAAK,EAAE;IACLC,KAAK,EAAEC;EACT,CAAC;EACDC,OAAO,EAAE;IACP,MAAMC,gBAAgBA,CAAA,EAAG;MACvB,IAAI;QACF,MAAMC,QAAO,GAAI,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF,QAAQ;QAC5C,MAAMG,QAAO,GAAI,MAAMf,KAAK,CAACgB,GAAG,CAAE,8BAA6BJ,QAAS,UAAS,CAAC;QAClF,MAAMV,IAAG,GAAIa,QAAQ,CAACb,IAAI;QAE1B,IAAI,CAACC,cAAa,GAAID,IAAI,CAAC,YAAY,CAAC,CAAC,SAAS,CAAC;QACnD,IAAI,CAACE,cAAa,GAAIF,IAAI,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC;QACrD,IAAI,CAACG,eAAc,GAAIH,IAAI,CAAC,YAAY,CAAC,CAAC,WAAW,CAAC;QACtD,IAAI,CAACI,MAAK,GAAIJ,IAAI,CAAC,YAAY,CAAC,CAAC,QAAQ,CAAC;MAC5C,EAAE,OAAOe,KAAK,EAAE;QACdC,OAAO,CAACD,KAAK,CAAC,8BAA8B,EAAEA,KAAK,CAAC;MACtD;IACF,CAAC;IACDE,WAAWA,CAACC,UAAU,EAAE;MACtB,IAAIA,UAAU,EAAE;QACd,OAAQ,0BAAyBA,UAAW,EAAC;MAC/C;;MAEA;MACA,OAAO,EAAE;IACX,CAAC;IACDC,eAAeA,CAACC,SAAS,EAAE;MACzB;MACA,OAAOrB,MAAM,CAACqB,SAAS,CAAC,CAACC,MAAM,CAAC,qBAAqB,CAAC;IACxD,CAAC;IACDC,YAAYA,CAAChB,KAAK,EAAE;MAClB;MACA,IAAI,CAACiB,OAAO,CAACC,IAAI,CAAC;QAChBC,IAAI,EAAE,kBAAkB;QAAE;QAC1Bb,MAAM,EAAE;UAAEc,OAAO,EAAEpB,KAAK,CAACoB,OAAM;UAAIhB,QAAQ,EAAE,IAAI,CAACC,MAAM,CAACC,MAAM,CAACF;QAAQ;MAC1E,CAAC,CAAC;IACJ;EACF,CAAC;EACDiB,OAAOA,CAAA,EAAG;IACR,IAAI,CAAClB,gBAAgB,CAAC,CAAC;EACzB;AACF,CAAC"},"metadata":{},"sourceType":"module","externalDependencies":[]}